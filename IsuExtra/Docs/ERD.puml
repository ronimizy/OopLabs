@startuml
'https://plantuml.com/class-diagram

note "Flags" as Fl
LessonFrequency . Fl

enum LessonFrequency
{
    Odd = 1, 
    Even = 2, 
    Persistent = 3
}

class Lesson 
{
    + LessonFrequency Frequency
    + DateTime Begin
    + TimeSpan Span
}

class Schedule
{
    + List<Lesson> Lessons
    --
    + bool IntersectsWith(Schedule other)
}

class Student
{
    + Guid Id
    + string Name
    + Group Group
}

class Stream 
{
    + Guid Id
    + string Name
    + Schedule Schedule
    + int Capacity
    + List<Student> Students
    --
    + Stream AddStudents(params Student[] students)
}

class Subject 
{
    + Guid Id
    + string Name
    + string ShortName
    + List<Stream> Streams
    --
    + Subject AddStream(int number, Schedule schedule, int capacity)
}

class AdditionalSubjectService
{
    - List<Subject> Subjects
    --
    + IReadOnlyList<SubjectDto> GetSubjects()
    + StreamDto GetStream(Guid id)
}

'
'
'


Lesson *- LessonFrequency

Schedule ||--{ Lesson

Stream ||--{ Student
Stream ||--|| Schedule

Subject ||--{ Stream

AdditionalSubjectService ||--{ Subject

@enduml